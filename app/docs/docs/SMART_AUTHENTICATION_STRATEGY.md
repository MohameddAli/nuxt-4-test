# ุงุณุชุฑุงุชูุฌูุฉ ุงููุตุงุฏูุฉ ุงูุจุณูุทุฉ ูุงูุฐููุฉ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู **ููุฌ ุจุณูุท ูุฐูู** ูู ูุดุฑูุนู ูููุฑ ุฃูุถู ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุน ุงูุญูุงุธ ุนูู ุงูุฃูุงูุ ุจุงุณุชุฎุฏุงู `useApi` ููุท ุจุทุฑููุฉ ูุงุถุญุฉ ููุญุชุฑูุฉ.

## ๐ฏ **ุงุณุชุฑุงุชูุฌูุฉ ุงูุชูุฌูู ุงูุฐูู**

### 1. **ุงูุชูุฌูู ุงููุจุงุดุฑ ูุชุณุฌูู ุงูุฏุฎูู** 
**ูุชู ููุณุชุฎุฏู:**
- ุงูููุงุทู ุงูุฅุฏุงุฑูุฉ (`/admin`)
- ุงูููุงุทู ุงูุญุฑุฌุฉ (`/financial`, `/settings`)

**ููุงุฐุง:**
- ุฃูุงู ุฅุถุงูู ููููุงุทู ุงูุญุณุงุณุฉ
- ุชุฌุฑุจุฉ ุฃุณุฑุน ููุงุถุญุฉ

### 2. **ุตูุญุฉ Unauthorized ุงููุฏูุฏุฉ**
**ูุชู ุชูุณุชุฎุฏู:**
- ุฌููุน ุงูููุงุทู ุงูุฃุฎุฑู
- Dashboard ุงูุนุงุฏู
- ุงูุตูุญุงุช ุงูุนุงูุฉ

**ููุงุฐุง:**
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
- ูุนูููุงุช ูุณุงุนุฏุฉ ูุงุถุญุฉ
- ุชูููู ุงูุฅุญุจุงุท ูุงูุงุฑุชุจุงู

## ๐ง **ุงูุชูููุฐ ุงูุชููู**

### 1. **ูุนุงูุฌ ุงูุฃุฎุทุงุก ุงูุจุณูุท ูุงูุฐูู**

```typescript
// ูู composables/useApi.ts - ุจุณูุท ููุงุถุญ
const handleApiError = async (error: any) => {
  // ุญูุธ ุงูุตูุญุฉ ุงููุทููุจุฉ ููุนูุฏุฉ ุฅูููุง
  if (route.path !== '/login' && route.path !== '/unauthorized') {
    localStorage.setItem('auth_redirect_url', route.fullPath)
  }
  
  authStore.clearAuth()
  
  // ุงุณุชุฑุงุชูุฌูุฉ ุจุณูุทุฉ ููุงุถุญุฉ
  const isAdminArea = route.path.includes('/admin')
  const isCriticalArea = route.path.includes('/financial') || route.path.includes('/settings')
  
  if (isAdminArea || isCriticalArea) {
    // ููููุงุทู ุงูุญุฑุฌุฉ: ุชูุฌูู ูุจุงุดุฑ ูุชุณุฌูู ุงูุฏุฎูู
    showError('ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ - ุฌุงุฑู ุงูุชูุฌูู ูุชุณุฌูู ุงูุฏุฎูู')
    setTimeout(() => navigateTo('/login'), 800)
  } else {
    // ููููุงุทู ุงูุนุงุฏูุฉ: ุตูุญุฉ unauthorized ุงููุฏูุฏุฉ
    showWarning('ุงูุชูุช ุตูุงุญูุฉ ุฌูุณุชูุ ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู')
    navigateTo('/unauthorized')
  }
}
```

### 2. **ุงุณุชุฎุฏุงู useApi ุงูุจุณูุท**

```typescript
// ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู - ุจุณูุท ููุจุงุดุฑ
const { post, get } = useApi()

// ููุนูููุงุช ุงูุนุงุฏูุฉ
const data = await get('/api/users')

// ููุนูููุงุช ุงูุญุฑุฌุฉ - ูุง ุญุงุฌุฉ ูู headers ุฅุถุงููุฉ ูุนูุฏุฉ
const result = await post('/api/financial/transfer', { amount: 1000 })
```

### 3. **ุงูุชูุฌูู ุงูุชููุงุฆู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู**

```typescript
// ูู pages/login.vue - ุจุณูุท ููุนุงู
const handleLogin = async (values) => {
  await authStore.login(values.username, values.password)
  
  // ุงูุชูุฌูู ููุตูุญุฉ ุงููุทููุจุฉ ุฃู dashboard
  let redirectUrl = '/dashboard'
  if (process.client) {
    const storedRedirect = localStorage.getItem('auth_redirect_url')
    if (storedRedirect) {
      redirectUrl = storedRedirect
      localStorage.removeItem('auth_redirect_url')
    }
  }
  
  await router.push(redirectUrl)
}
```

## ๐ **ููุงุฑูุฉ ุงูุงุณุชุฑุงุชูุฌูุงุช**

| ุงูุณููุงุฑูู | ุงูููุฌ ุงููุชุจุน | ุงูุณุจุจ | ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู |
|-----------|-------------|-------|-----------------|
| **ุงูููุงุทู ุงูุฅุฏุงุฑูุฉ** | ุชูุฌูู ูุจุงุดุฑ ููLogin | ุฃูุงู ุฅุถุงูู | โก ุณุฑูุน ูุขูู |
| **ุงูููุงุทู ุงูุญุฑุฌุฉ** | ุชูุฌูู ูุจุงุดุฑ ููLogin | ุญูุงูุฉ ุฅุถุงููุฉ | ๐ ูุญูู |
| **Dashboard ุงูุนุงุฏู** | ุตูุญุฉ Unauthorized | ูุฏูุฏ ููููุฏ | ๐ ูุฑูุญ |
| **ุงูุตูุญุงุช ุงูุนุงูุฉ** | ุตูุญุฉ Unauthorized | ูุนูููุงุช ูุณุงุนุฏุฉ | ๐ ุชุนูููู |

## ๐จ **ูููุฒุงุช ุตูุญุฉ Unauthorized ุงููุญุณูุฉ**

### 1. **ุชุตููู ุฌููู ูุชูุงุนูู**
- ุฎูููุฉ ูุชุฏุฑุฌุฉ ุฌูููุฉ
- ุชุฃุซูุฑุงุช ุญุฑููุฉ
- ุฃููููุงุช ูุตููุฉ
- ุฃููุงู ูุงุฏุฆุฉ

### 2. **ูุนูููุงุช ูููุฏุฉ**
- ุฃุณุจุงุจ ุนุฏู ุงููุตูู
- ูุนูููุงุช ุงูุฏุนู ุงูููู
- ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ูููุณุงุนุฏุฉ

### 3. **ุชุญูู ูู ุงูุชูุฌูู**
- ุนุฏ ุชูุงุฒูู ูุน ุฅููุงููุฉ ุงูุฅูุบุงุก
- ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ (Login, Home)
- ุญูุธ ุงูุตูุญุฉ ุงููุทููุจุฉ

## ๐ **ุงูุฃูุงู ุงูุจุณูุท ูุงููุนุงู**

### 1. **ุชุตููู ุงูููุงุทู**
- **ุญุฑุฌุฉ:** `/admin`, `/financial`, `/settings`
- **ุนุงุฏูุฉ:** `/dashboard`, `/`, ุจุงูู ุงูุตูุญุงุช

### 2. **ุงุณุชุฑุงุชูุฌูุฉ ุงูุชูุฌูู ุงูุจุณูุทุฉ**
- **ููุฑู ููLogin:** ููููุงุทู ุงูุญุฑุฌุฉ ููุท
- **ุตูุญุฉ Unauthorized:** ูุฌููุน ุงูููุงุทู ุงูุฃุฎุฑู
- **ุญูุธ ุงูุณูุงู:** ูู ุฌููุน ุงูุญุงูุงุช

## ๐ **ููุงุฆุฏ ุงูููุฌ ุงูุจุณูุท ูุงูุฐูู**

### โ **ุงููููุฒุงุช:**

1. **ุจุณุงุทุฉ ูู ุงูุชูููุฐ:**
   - ุงุณุชุฎุฏุงู `useApi` ููุท
   - ููุทู ูุงุถุญ ูููููู
   - ุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ

2. **ุฃูุงู ูุนุงู:**
   - ุญูุงูุฉ ููููุงุทู ุงูุญุณุงุณุฉ
   - ุชูุฌูู ุฐูู ุญุณุจ ุงูุณูุงู
   - ุญูุธ ุงูุตูุญุฉ ุงููุทููุจุฉ

3. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ:**
   - ุตูุญุฉ unauthorized ุฌูููุฉ ููููุฏุฉ
   - ูุนูููุงุช ูุงุถุญุฉ ููุณุงุนุฏุฉ
   - ูุง ููุฏุงู ููุณูุงู

4. **ูุฑููุฉ ููุงุจููุฉ ุงูุชูุณุน:**
   - ุณูู ุฅุถุงูุฉ ููุงุทู ุฌุฏูุฏุฉ
   - ุฑุณุงุฆู ูุฎุตุตุฉ ูุงุถุญุฉ
   - ุฃุฏุงุก ููุชุงุฒ

### โ **ูุง ุชูุฌุฏ ุชุญุฏูุงุช:**
- **ููุฏ ุจุณูุท** ูุณูู ุงูููู
- **ุงุฎุชุจุงุฑ ูุงุถุญ** ููุจุงุดุฑ
- **ุตูุงูุฉ ุณููุฉ** ูููุทููุฉ

## ๐งช **ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ**

### 1. **ุงูููุทูุฉ ุงูุฅุฏุงุฑูุฉ**
```bash
# ุงููุตูู ูุตูุญุฉ admin ุจุฏูู ุชุณุฌูู ุฏุฎูู
GET /admin/users
# ุงููุชูุฌุฉ ุงููุชููุนุฉ: ุชูุฌูู ููุฑู ูู /login
```

### 2. **ููุทูุฉ ุญุฑุฌุฉ**
```bash
# ุงููุตูู ูุตูุญุฉ ูุงููุฉ ูุน ุงูุชูุงุก ุงูุฌูุณุฉ
GET /financial/transfer
# ุงููุชูุฌุฉ ุงููุชููุนุฉ: ุชูุฌูู ููุฑู ูู /login
```

### 3. **ุตูุญุฉ dashboard ุนุงุฏูุฉ**
```bash
# ุงููุตูู ูุตูุญุฉ dashboard ุจุฏูู ุชุณุฌูู ุฏุฎูู
GET /dashboard
# ุงููุชูุฌุฉ ุงููุชููุนุฉ: ุตูุญุฉ /unauthorized ุงููุฏูุฏุฉ
```

### 4. **API ุนุงุฏู**
```bash
# ุทูุจ API ุนุงุฏู ูุน ุงูุชูุงุก ุงูุฌูุณุฉ
GET /api/dashboard/stats
# ุงููุชูุฌุฉ ุงููุชููุนุฉ: ุตูุญุฉ /unauthorized ูุน ุฑุณุงูุฉ ูุฏูุฏุฉ
```

## ๐ **ูุงุฆูุฉ ูุฑุงุฌุนุฉ ุงูุชูููุฐ**

### โ **ุชู ุชูููุฐู:**
- [x] ูุนุงูุฌ ุฃุฎุทุงุก ุจุณูุท ูุฐูู ูู `useApi.ts`
- [x] ุตูุญุฉ unauthorized ูุญุณูุฉ ูุฌูููุฉ
- [x] ุญูุธ ุงูุตูุญุฉ ุงููุทููุจุฉ ุชููุงุฆูุงู
- [x] ุชูุฌูู ุชููุงุฆู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
- [x] ุชุตููู ุงูููุงุทู ุงูุจุณูุท ูุงููุงุถุญ
- [x] ุฑุณุงุฆู ูุฎุตุตุฉ ููุฏูุฏุฉ
- [x] ุชุตููู ุฌููู ูุชูุงุนูู
- [x] ููุฏ ุจุณูุท ููุงุจู ููุตูุงูุฉ

### ๐ **ูููู ุฅุถุงูุชู ูุงุญูุงู (ุญุณุจ ุงูุญุงุฌุฉ):**
- [ ] ููุงุทู ุญุฑุฌุฉ ุฅุถุงููุฉ
- [ ] ุฑุณุงุฆู ูุฎุตุตุฉ ุฃูุซุฑ
- [ ] Social login integration
- [ ] Multi-factor authentication
- [ ] Session monitoring

## ๐ฏ **ุงูุฎูุงุตุฉ**

**ุงูููุฌ ุงูุจุณูุท ูุงูุฐูู ุงููุทุจู ูู ูุดุฑูุนู ูู ุงูุฃูุถู** ูุฃูู:

1. **ุจุณูุท ููุงุถุญ** - ูุณุชุฎุฏู `useApi` ููุทุ ููุฏ ููููู ูุณูู ุงูุตูุงูุฉ
2. **ุฐูู ููุนุงู** - ุฃูุงู ุฅุถุงูู ููููุงุทู ุงูุญุณุงุณุฉุ ุชุฌุฑุจุฉ ูุฏูุฏุฉ ููููุงุทู ุงูุนุงุฏูุฉ
3. **ูุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช** - ูุณุชูุญู ูู [MakerKit's API Best Practices](https://makerkit.dev/blog/tutorials/nextjs-api-best-practices)
4. **ูุญุณู ูููุณุชุฎุฏู** - ูุง ููุฏุงู ููุณูุงูุ ุชุฌุฑุจุฉ ุณูุณุฉ

ูุฐุง ุงูููุฌ ูุชููู ุนูู:
- โ ุงูุชูุฌูู ุงููุจุงุดุฑ ููุท (ุณูุก ููUX)
- โ ุตูุญุฉ unauthorized ููุท (ุฃูู ุฃูุงูุงู)
- โ ุงูุญููู ุงููุนูุฏุฉ (ุตุนุจุฉ ุงูุตูุงูุฉ)
- โ **ุงูููุฌ ุงูุจุณูุท ูุงูุฐูู** (ุงูุฃูุถู ูู ูู ุดูุก)

**ูุดุฑูุนู ุงูุขู ูุทุจู ุฃูุถู ุงุณุชุฑุงุชูุฌูุฉ ูุตุงุฏูุฉ: ุจุณูุทุฉุ ุฐููุฉุ ููุนุงูุฉ!** ๐