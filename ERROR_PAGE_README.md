# صفحة الخطأ الاحترافية (Error Page)

## نظرة عامة

تم إنشاء صفحة خطأ احترافية ومتطورة لتطبيق Nuxt 4 مع دعم كامل للغة العربية والإنجليزية، مع تصميم متجاوب وتأثيرات بصرية متقدمة.

## الميزات الرئيسية

### ✅ التصميم والواجهة
- **تصميم احترافي** مع دعم الوضع المزدوج (فاتح/داكن)
- **خلفية متحركة** مع تأثيرات بصرية متقدمة
- **تصميم متجاوب** لجميع الأجهزة (Desktop, Tablet, Mobile)
- **أيقونات وألوان مختلفة** حسب نوع الخطأ
- **تأثيرات انتقال سلسة** وتفاعلات مستخدم متقدمة

### ✅ الترجمة واللغات
- **ترجمة كاملة** للعربية والإنجليزية
- **دعم RTL** للغة العربية
- **مفاتيح ترجمة شاملة** لجميع أنواع الأخطاء
- **رسائل خطأ مخصصة** لكل نوع خطأ

### ✅ تجربة المستخدم
- **اقتراحات ذكية** للمستخدم بناءً على نوع الخطأ
- **أزرار إجراء سريعة** (إعادة المحاولة، العودة، الصفحة الرئيسية)
- **معلومات مساعدة** واتصال بالدعم
- **دعم إمكانية الوصول** (Accessibility)

### ✅ الميزات التقنية
- **تفاصيل تقنية قابلة للطي** (للمطورين فقط)
- **إمكانية تقرير الأخطاء** عبر البريد الإلكتروني
- **نسخ تفاصيل الخطأ** للحافظة
- **دعم الطباعة** مع تنسيق مناسب
- **دعم الوضع عالي التباين**

## أنواع الأخطاء المدعومة

| رمز الحالة | النوع | الوصف | الأيقونة |
|------------|--------|--------|----------|
| 404 | `notFound` | الصفحة غير موجودة | `mdi-file-search-outline` |
| 401 | `unauthorized` | انتهاء الجلسة | `mdi-shield-alert` |
| 403 | `forbidden` | ممنوع الوصول | `mdi-shield-off` |
| 408 | `timeout` | انتهت مهلة الطلب | `mdi-clock-alert` |
| 503 | `maintenance` | الصيانة | `mdi-wrench-clock` |
| 500 | `server` | خطأ في الخادم | `mdi-server-network-off` |
| 400 | `client` | خطأ في الطلب | `mdi-alert-circle-outline` |
| غير محدد | `unexpected` | خطأ غير متوقع | `mdi-alert-octagon` |

## ملفات الترجمة

### `app/i18n/locales/en.json`
```json
{
  "errors": {
    "title": {
      "notFound": "404 - Page Not Found",
      "server": "Server Error",
      // ... المزيد
    },
    "message": {
      "notFound": "The page you're looking for doesn't exist or has been moved.",
      // ... المزيد
    },
    "action": {
      "retry": "Try Again",
      "goBack": "Go Back",
      "goHome": "Go Home",
      // ... المزيد
    }
  }
}
```

### `app/i18n/locales/ar.json`
```json
{
  "errors": {
    "title": {
      "notFound": "404 - الصفحة غير موجودة",
      "server": "خطأ في الخادم",
      // ... المزيد
    },
    "message": {
      "notFound": "الصفحة التي تبحث عنها غير موجودة أو تم نقلها.",
      // ... المزيد
    },
    "action": {
      "retry": "المحاولة مرة أخرى",
      "goBack": "العودة",
      "goHome": "الصفحة الرئيسية",
      // ... المزيد
    }
  }
}
```

## المتغيرات المخصصة للألوان

```css
.error-page {
  --error-bg-light: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --error-bg-dark: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  --error-card-bg-light: rgba(255, 255, 255, 0.95);
  --error-card-bg-dark: rgba(30, 30, 30, 0.95);
  --error-text-light: rgba(0, 0, 0, 0.87);
  --error-text-dark: rgba(255, 255, 255, 0.87);
  --error-surface-light: rgba(0, 0, 0, 0.05);
  --error-surface-dark: rgba(255, 255, 255, 0.05);
}
```

## هيكل المكون

```
app/error.vue
├── Template
│   ├── خلفية متحركة
│   ├── بطاقة الخطأ الرئيسية
│   │   ├── قسم الأيقونة والعنوان
│   │   ├── رسالة الخطأ
│   │   ├── اقتراحات للمستخدم
│   │   ├── تفاصيل تقنية (قابلة للطي)
│   │   ├── أزرار الإجراءات
│   │   └── قسم المساعدة
│   └── التذييل
├── Script
│   ├── منطق تحديد نوع الخطأ
│   ├── إدارة الوضع المظلم
│   ├── دوال الإجراءات
│   └── اقتراحات المستخدم
└── Style
    ├── متغيرات CSS مخصصة
    ├── خلفية متحركة
    ├── تصميم متجاوب
    └── تأثيرات بصرية
```

## كيفية التخصيص

### 1. تخصيص الترجمة
عدل المفاتيح في `app/i18n/locales/ar.json` و `app/i18n/locales/en.json`

### 2. تخصيص الألوان
غيّر قيم المتغيرات في قسم `<style>` في `app/error.vue`

### 3. إضافة نوع خطأ جديد
1. أضف المفتاح في `errorType` computed
2. أضف الأيقونة واللون في `errorIcon` و `errorIconColor`
3. أضف الترجمة في ملفات اللغة
4. أضف الاقتراحات في `suggestions` computed

### 4. تخصيص الاقتراحات
عدل `suggestionMap` في `suggestions` computed لإضافة اقتراحات مخصصة لأنواع أخطاء معينة.

## الأداء والتحسينات

- **تحميل كسول** للمكونات غير الضرورية
- **تحسين الصور** والأيقونات
- **تأثيرات متحركة محسنة** للأداء
- **دعم ذاكرة التخزين المؤقت** للخطوط والأيقونات

## إمكانية الوصول (Accessibility)

- **دعم قارئ الشاشة** مع تسميات وصفية
- **تنقل لوحة المفاتيح** كامل
- **تباين الألوان** عالي
- **دعم الوضع عالي التباين** للنظام
- **أحجام خطوط قابلة للقراءة**

## التوافق مع المتصفحات

- ✅ Chrome/Chromium 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+
- ✅ Mobile browsers (iOS Safari, Chrome Mobile)

## مثال على الاستخدام

```vue
<!-- يتم استدعاء هذه الصفحة تلقائياً عند حدوث أخطاء -->
<!-- لكن يمكنك أيضاً استدعاؤها يدوياً إذا احتجت -->

<script setup>
const error = useError()

// تخصيص رسالة الخطأ
error.value = {
  statusCode: 404,
  message: 'الصفحة المطلوبة غير موجودة'
}
</script>
```

## ملاحظات تقنية

- المكون يستخدم **Composition API** مع `<script setup>`
- يدعم **TypeScript** بالكامل
- متوافق مع **Nuxt 4** و **Vue 3**
- يستخدم **Vuetify 3** للمكونات الأساسية
- يدعم **SSR** و **SSG**

## الدعم والمساعدة

إذا واجهت أي مشاكل أو تحتاج مساعدة:

1. تحقق من وحدة التحكم في المتصفح للأخطاء
2. راجع ملفات الترجمة للتأكد من اكتمالها
3. تحقق من إعدادات Vuetify و i18n
4. استخدم ميزة "تقرير الخطأ" في الصفحة

---

**تم تطوير هذه الصفحة بواسطة AI Assistant لتوفير تجربة مستخدم احترافية ومتكاملة.**
